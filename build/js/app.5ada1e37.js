(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var p=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"210b":function(t,e,n){"use strict";var a=n("2419"),o=n.n(a);o.a},2419:function(t,e,n){},"29f7":function(t,e,n){t.exports=n.p+"img/hiapp_logo@2x.792123d0.png"},"354d":function(t,e,n){"use strict";var a=n("39a4"),o=n.n(a);o.a},3754:function(t,e,n){},"39a4":function(t,e,n){},"42d6":function(t,e,n){},"50da":function(t,e,n){},"510b":function(t,e,n){"use strict";var a=n("80db"),o=n.n(a);o.a},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"getLoginUser",function(){return tn}),n.d(a,"getContacts",function(){return en}),n.d(a,"initTimeline",function(){return nn}),n.d(a,"infiniteTimeline",function(){return an}),n.d(a,"refreshTimeline",function(){return on}),n.d(a,"updateTimeline",function(){return rn}),n.d(a,"updatePopup",function(){return sn});n("cadf"),n("551c"),n("f751"),n("097d");var o=n("a026"),r=n("d42c"),i=n("6baf"),s=(n("06bb"),n("82da"),n("d7e2"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-app",{attrs:{params:t.f7params}},[n("f7-statusbar"),n("f7-view",{attrs:{id:"main-view",url:"/",main:"","color-theme":"orange"}}),n("f7-popup",{attrs:{opened:t.publisherPopupOpened}},[n("publisher-popup")],1),n("f7-popup",{attrs:{opened:t.commentPopupOpened}},[n("comment-popup")],1)],1)}),c=[],l=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",[n("f7-nav-left"),n("f7-nav-title",[t._v(t._s(t.navbarTitle))]),n("f7-nav-right",[n("f7-link",{directives:[{name:"show",rawName:"v-show",value:"home"===t.activedTab,expression:"activedTab === 'home'"}],attrs:{icon:"iconfont icon-feedback3","icon-size":"22"},on:{click:t.openPublisher}})],1)],1),n("f7-toolbar",{attrs:{tabbar:"",labels:!t.isAndroid,bottom:""}},[n("f7-link",{attrs:{icon:t.isAndroid?"":"iconfont icon-ios7homeoutline",text:t.$t("app.home"),"tab-link":"#home","tab-link-active":""}}),n("f7-link",{attrs:{icon:t.isAndroid?"":"iconfont icon-ios7chatbubbleoutline",text:t.$t("app.contacts"),"tab-link":"#contacts"}}),n("f7-link",{attrs:{icon:t.isAndroid?"":"iconfont icon-ios7gearoutline",text:t.$t("app.settings"),"tab-link":"#settings"}})],1),n("f7-tabs",[n("f7-tab",{attrs:{id:"home","tab-active":""},on:{"tab:show":function(e){return t.tabActived("home")}}},[n("home-view",{on:{"show-tip":t.showLoadResult}})],1),n("f7-tab",{attrs:{id:"contacts"},on:{"tab:show":function(e){return t.tabActived("contacts")}}},[n("contacts-view")],1),n("f7-tab",{attrs:{id:"settings"},on:{"tab:show":function(e){return t.tabActived("settings")}}},[n("settings-view")],1)],1),n("div",{staticClass:"load-result"},[t._v(t._s(t.$t("home.noNewestPost")))])],1)},u=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"home-view",attrs:{id:"homeView",ptr:"",infinite:""},on:{"ptr:refresh":t.onRefresh,infinite:t.onInfiniteScroll}},t._l(t.timeline,function(e){return n("card",{key:e.id,attrs:{data:e},on:{"card:content-click":t.routeToPost}})}),1)},m=[],d=n("bc3a"),h=n.n(d),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card post-card",on:{click:function(e){return t.contentClick(t.data)}}},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.getAvatar(t.data.avatar),alt:"avatar"}})]),n("div",{staticClass:"user flex-column"},[n("div",{staticClass:"name"},[t._v(t._s(t.data.nickname))]),n("div",{staticClass:"time"},[t._v(t._s("#"+t.data.id+" ")+t._s(t.formatTime(t.data.created_at)))])])]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"text"},[t._v(t._s(t.data.text))]),t.data.original_pic?n("div",{staticClass:"image",on:{click:function(e){return e.stopPropagation(),t.openPhotoBrowser(t.data.original_pic)}}},[n("img",{attrs:{src:t.data.original_pic}})]):t._e()]),t.enableToolbar?n("div",{staticClass:"card-footer flex-row"},[n("f7-link",{staticClass:"tool tool-border flex-rest-width"},[n("span",{staticClass:"iconfont icon-comment"}),n("span",{staticClass:"text",domProps:{textContent:t._s(t.data.comment_count?t.data.comment_count:t.$t("home.comment"))}})]),n("f7-link",{staticClass:"tool flex-rest-width",class:{liked:t.data.liked},on:{click:function(e){return e.stopPropagation(),t.toggleLike(t.data.id,t.data.liked)}}},[n("span",{staticClass:"iconfont icon-like"}),n("span",{staticClass:"text",domProps:{textContent:t._s(t.data.like_count?t.data.like_count:t.$t("home.like"))}})])],1):t._e()])},g=[],v=n("ef1b");n("3b2b");function O(t){return"https://loremflickr.com/70/70/people?lock=".concat(t)}function y(){var t=navigator.userAgent||"",e=navigator.appVersion||"",n=navigator.vendor||"",a=t+" "+e+" "+n;a=a.toLowerCase();var o="android";return a.indexOf("android")>=0?o=/\bandroid[ \/-]?([0-9.x]+)?/:a.indexOf("adr")>=0&&(o=a.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/),new RegExp(o).test(a)}var k={props:{data:{type:Object,default:function(){return{}}},enableToolbar:{type:Boolean,default:!0}},methods:{contentClick:function(t){this.$emit("card:content-click",t)},openPhotoBrowser:function(t){var e=this.$f7.photoBrowser.create({zoom:400,theme:"dark",photos:[t]});e.open()},formatTime:function(t){return t?Object(v["a"])(new Date(1e3*t),{addSuffix:!0}):""},getAvatar:function(t){return O(t)},toggleLike:function(t,e){this.$store.dispatch("updateTimeline",{mid:t,type:e?"unlike":"like"})}}},w=k,j=(n("a916"),n("2877")),x=Object(j["a"])(w,b,g,!1,null,null,null),_=x.exports,P=_,C=n("2f62");function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E={data:function(){return{refreshing:!1,loadingMore:!1,loadedEnd:!1}},computed:T({},Object(C["c"])({timeline:function(t){return t.timeline}})),mounted:function(){this.getTimeline()},methods:T({},Object(C["b"])(["initTimeline","infiniteTimeline","refreshTimeline"]),{getTimeline:function(){var t=this;this.$f7.preloader.show(),h.a.get("/timeline.json").then(function(e){var n=e.data;t.initTimeline(n),t.$f7.preloader.hide()})},onRefresh:function(){var t=this;if(this.refreshing)return!1;this.refreshing=!0,h.a.get("/refresh_timeline.json").then(function(e){if(48===parseInt(t.timeline[0].id))t.$emit("show-tip");else{var n=e.data;t.refreshTimeline(n)}t.refreshing=!1,t.$f7.ptr.done()})},onInfiniteScroll:function(){var t=this;if(this.loadingMore||this.loadedEnd)return!1;this.loadingMore=!0,h.a.get("/more_timeline.json").then(function(e){var n=parseInt(t.timeline[t.timeline.length-1].id);if(24===n)t.loadedEnd=!0,t.$f7.infiniteScroll.destroy("#homeView .infinite-scroll-content"),t.$$("#homeView .infinite-scroll-preloader").remove();else{var a=e.data;t.infiniteTimeline(a)}t.loadingMore=!1})},routeToPost:function(t){this.$f7router.navigate("/post/?mid=".concat(t.id))}}),components:{Card:P}},S=E,D=Object(j["a"])(S,f,m,!1,null,null,null),M=D.exports,A=M,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"contacts-view"},[n("f7-searchbar",{attrs:{"search-container":"#search-list","disable-link-text":t.$t("app.cancel"),placeholder:t.$t("contacts.placeholder"),"clear-button":!0}}),n("f7-list",{staticClass:"searchbar-found",attrs:{"contacts-list":"",id:"search-list"}},t._l(t.contactGroups,function(e,a){return n("f7-list-group",{key:a},[n("f7-list-item",{attrs:{title:a,"group-title":""}}),t._l(e,function(e){return n("f7-list-item",{key:e.nickname,attrs:{link:t.getLink(e.nickname),title:e.nickname,after:e.location,media:t.getAvatarMedia(e.avatar)}})})],2)}),1),n("f7-list",{staticClass:"searchbar-not-found"},[n("div",{staticClass:"empty-content"},[n("i",{staticClass:"iconfont icon-wujieguoyangshi"}),n("div",{staticClass:"text"},[t._v(t._s(t.$t("contacts.empty")))])])])],1)},N=[],L=n("6edf"),H=n.n(L);function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var z={computed:B({},Object(C["c"])({contacts:function(t){return t.contacts}}),{contactGroups:function(){return H()(this.contacts,"header")}}),mounted:function(){this.$store.dispatch("getContacts")},methods:{getAvatarMedia:function(t){return O(t)},getLink:function(t){return"/message/?nickname=".concat(t)}}},U=z,F=(n("354d"),Object(j["a"])(U,I,N,!1,null,null,null)),R=F.exports,G=R,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-view"},[n("f7-list",{staticClass:"user-profile"},[n("f7-list-item",{attrs:{link:"/profile/"}},[n("img",{staticClass:"avatar",attrs:{slot:"media",src:this.userInfo.avatar_url},slot:"media"}),n("div",{staticClass:"detail",attrs:{slot:"inner-start"},slot:"inner-start"},[n("div",{staticClass:"name"},[t._v(t._s(t.userInfo.nick_name))]),n("div",{staticClass:"location"},[n("span",[t._v(t._s(t.$t("app.city"))+": ")]),n("span",[t._v(t._s(t.userInfo.location))])])])])],1),n("f7-list",[n("f7-list-item",{attrs:{title:t.$t("app.language"),link:"/language/"}},[n("i",{staticClass:"iconfont icon-language",attrs:{slot:"media"},slot:"media"})])],1),n("f7-list",[n("f7-list-item",{attrs:{title:t.$t("app.feedback"),link:"/feedback/"}},[n("i",{staticClass:"iconfont icon-feedback2",attrs:{slot:"media"},slot:"media"})])],1),n("f7-list",[n("f7-list-item",{attrs:{title:t.$t("app.about"),link:"/about/"}},[n("i",{staticClass:"iconfont icon-about1",attrs:{slot:"media"},slot:"media"})])],1)],1)},q=[];function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Y={computed:W({},Object(C["c"])({userInfo:function(t){return t.user}}))},Q=Y,X=(n("210b"),Object(j["a"])(Q,K,q,!1,null,"5d02d11c",null)),Z=X.exports,tt=Z;function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var at={data:function(){return{activedTab:"home"}},computed:{navbarTitle:function(){switch(this.activedTab){case"home":return this.$t("app.app_name");case"contacts":return this.$t("app.contacts");case"settings":return this.$t("app.settings");default:return this.$t("app.app_name")}},isAndroid:function(){return y()}},methods:nt({},Object(C["b"])(["updatePopup"]),{tabActived:function(t){this.activedTab=t},showLoadResult:function(){var t=this;setTimeout(function(e){t.$$("div.load-result").css("opacity","1").transition(1e3),setTimeout(function(e){t.$$("div.load-result").css("opacity","0").transition(1e3)},2100)},400)},openPublisher:function(){this.updatePopup({key:"publisherOpened",value:!0})}}),components:{HomeView:A,ContactsView:G,SettingsView:tt}},ot=at,rt=(n("c10a"),Object(j["a"])(ot,p,u,!1,null,"7053ddd8",null)),it=rt.exports,st=it,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{staticClass:"about-page"},[a("f7-navbar",{attrs:{title:t.$t("app.about"),"back-link":t.$t("app.back")}}),a("f7-block",[a("div",{staticClass:"logo"},[a("img",{attrs:{src:n("29f7"),alt:"logo"}})]),a("div",{staticClass:"app-name"},[t._v("HiApp")])]),a("f7-block",{staticClass:"detail"},[a("p",[t._v("GitHub: BelinChung/HiApp")]),a("p",[t._v("Email: BelinChung@gmail.com")]),a("p",[t._v("Twitter: @BelinChung")])]),a("f7-block",{staticClass:"copyright"},[t._v("\n      Copyright © 2019 BelinChung.\n  ")])],1)},lt=[],pt={},ut=pt,ft=(n("6d03"),Object(j["a"])(ut,ct,lt,!1,null,null,null)),mt=ft.exports,dt=mt,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"feedback-page"},[n("f7-navbar",{attrs:{title:t.$t("app.feedback"),"back-link":t.$t("app.back")}},[n("f7-nav-right",[n("f7-link",{attrs:{text:t.$t("app.send")},on:{click:t.sendFeedback}})],1)],1),n("editor",{attrs:{placeholder:t.$t("feedback.placeholder"),enableTools:"emotion"},on:{"text:change":t.editorTextChange}})],1)},bt=[],gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-container"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editText,expression:"editText"}],attrs:{type:"textarea",placeholder:t.placeholder,value:"text"},domProps:{value:t.editText},on:{input:function(e){e.target.composing||(t.editText=e.target.value)}}}),n("ul",{staticClass:"tools flex-row"},[n("li",{directives:[{name:"show",rawName:"v-show",value:t.enableTool("camera"),expression:"enableTool('camera')"}],staticClass:"tool"},[n("i",{staticClass:"iconfont icon-ios7cameraoutline"})]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.enableTool("album"),expression:"enableTool('album')"}],staticClass:"tool"},[n("i",{staticClass:"iconfont icon-pic"})]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.enableTool("emotion"),expression:"enableTool('emotion')"}],staticClass:"tool"},[n("i",{staticClass:"iconfont icon-emotion"})]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.enableTool("at"),expression:"enableTool('at')"}],staticClass:"tool"},[n("i",{staticClass:"iconfont icon-iosatoutline"})]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.enableTool("location"),expression:"enableTool('location')"}],staticClass:"tool"},[n("i",{staticClass:"iconfont icon-location"})])])])},vt=[],Ot=(n("28a5"),{props:{enableTools:{type:String,default:"camera,album,emotion,at,location"},text:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{editText:""}},watch:{editText:function(t){this.$emit("text:change",t)}},methods:{enableTool:function(t){var e=this.enableTools.split(",");return~e.indexOf(t)}}}),yt=Ot,kt=(n("c6fe"),Object(j["a"])(yt,gt,vt,!1,null,null,null)),wt=kt.exports,jt=wt,xt={data:function(){return{text:""}},methods:{editorTextChange:function(t){this.text=t},sendFeedback:function(){$$.alert(this.$t("feedback.result"))}},components:{Editor:jt}},_t=xt,Pt=Object(j["a"])(_t,ht,bt,!1,null,null,null),Ct=Pt.exports,$t=Ct,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"language-page"},[n("f7-navbar",{attrs:{title:t.$t("app.language"),"back-link":t.$t("app.back")}},[n("f7-nav-right",[n("f7-link",{attrs:{text:t.$t("app.save")},on:{click:t.saveLang}})],1)],1),n("f7-block-title",[t._v(t._s(t.$t("app.language")))]),n("f7-list",[n("f7-list-item",{attrs:{radio:"",name:"language-radio",value:"enUS",title:"English",checked:"enUS"===t.lang}}),n("f7-list-item",{attrs:{radio:"",name:"language-radio",value:"zhCN",title:"简体中文",checked:"zhCN"===t.lang}})],1)],1)},Et=[],St=n("a925"),Dt={app:{app_name:"HiApp",back:"Back",save:"Save",unknown:"Unknown",home:"Home",contacts:"Contacts",settings:"Settings",city:"City",profile:"Profile",language:"Language",feedback:"Feedback",about:"About",avatar:"Avatar",name:"Name",gender:"Gender",location:"Location",male:"Male",female:"Female",send:"Send",cancel:"Cancel",chat:"Chat",close:"Close",submitting:"submitting...",empty_container:"Empty Container~",modal:{title:"System",button_ok:"OK"}},home:{comment:"Comment",like:"Like",noNewestPost:"New article not loaded."},contacts:{placeholder:"Search in contacts",empty:"Empty Contacts"},feedback:{placeholder:"Hi, any suggestion to tell us?",result:"Thank you for your feedback"},message:{placeholder:"typing message..."},comment:{placeholder:"write a comment..."},publisher:{publisher:"Publisher",placeholder:"what's new with you."},post:{post:"Post"}},Mt={app:{app_name:"HiApp",back:"返回",save:"保存",unknown:"未知",home:"首页",contacts:"联系人",settings:"设置",city:"城市",profile:"个人信息",language:"语言选择",feedback:"意见反馈",about:"关于我们",avatar:"头像",name:"昵称",gender:"性别",location:"城市",male:"男",female:"女",send:"发送",cancel:"取消",chat:"聊天",close:"关闭",submitting:"提交中...",empty_container:"暂时还没有内容哦~",modal:{title:"系统提示",button_ok:"确定"}},home:{comment:"评论",like:"喜欢",noNewestPost:"没有加载到新动态"},contacts:{placeholder:"搜索联系人",empty:"暂无联系人"},feedback:{placeholder:"Hi, 有什么意见或意见告诉我们吗?",result:"感谢您的反馈，我们将第一时间处理。"},message:{placeholder:"说点什么..."},comment:{placeholder:"写点什么吧..."},publisher:{publisher:"发消息",placeholder:"随时分享新鲜事..."},post:{post:"正文"}},At=n("d225"),It=n("b0b4"),Nt=function(){function t(e){Object(At["a"])(this,t),this.prefix=e?"".concat(e,"_"):""}return Object(It["a"])(t,[{key:"get",value:function(t){return JSON.parse(localStorage.getItem(this.prefix+t))}},{key:"set",value:function(t,e){localStorage.setItem(this.prefix+t,JSON.stringify(e))}},{key:"remove",value:function(t){localStorage.removeItem(this.prefix+t)}},{key:"clear",value:function(){localStorage.clear()}}]),t}();o["a"].use(St["a"]);var Lt=new Nt("vuex");function Ht(){var t=["zh","zh-cn"],e=["zh-tw","zh-hk"],n=navigator.userLanguage||window.navigator.language;return n=n.toLowerCase(),Lt.get("lang")||(~t.indexOf(n)?"zhCN":~e.indexOf(n)?"zhTW":"enUS")}function Vt(t){Lt.set("lang",t),zt.locale=t}var Bt={enUS:Dt,zhCN:Mt},zt=new St["a"]({locale:Ht(),messages:Bt,fallbackLocale:"zhCN"}),Ut=zt,Ft={data:function(){return{lang:"enUS"}},created:function(){this.lang=Ht()},methods:{saveLang:function(){var t=this.$$('input[name="language-radio"]:checked').val();Vt(t)}}},Rt=Ft,Gt=Object(j["a"])(Rt,Tt,Et,!1,null,null,null),Kt=Gt.exports,qt=Kt,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"profile-page"},[n("f7-navbar",{attrs:{title:t.$t("app.profile"),"back-link":t.$t("app.back")}}),n("f7-list",[n("f7-list-item",{staticClass:"avatar-content",attrs:{title:t.$t("app.avatar")}},[n("img",{staticClass:"avatar",attrs:{slot:"after",src:t.userInfo.avatar_url},slot:"after"})]),n("f7-list-item",{attrs:{title:t.$t("app.name"),after:t.userInfo.nick_name}})],1),n("f7-list",[n("f7-list-item",{attrs:{title:t.$t("app.gender"),after:t.formatGender(t.userInfo.gender)}}),n("f7-list-item",{attrs:{title:t.$t("app.location"),after:t.userInfo.location}})],1)],1)},Wt=[];function Yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yt(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Xt={computed:Qt({},Object(C["c"])({userInfo:function(t){return t.user}})),methods:{formatGender:function(t){return"m"===t?this.$t("app.male"):"f"===t?this.$t("app.female"):this.$t("app.unknown")}}},Zt=Xt,te=(n("d6bb"),Object(j["a"])(Zt,Jt,Wt,!1,null,null,null)),ee=te.exports,ne=ee,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"message-page"},[n("f7-navbar",{attrs:{title:t.nickname,"back-link":t.$t("app.back")}}),n("f7-messages",{ref:"messages"},[n("f7-messages-title",[n("b",[t._v("Sunday, Feb 9,")]),t._v(" 12:58")]),t._l(t.messagesData,function(e,a){return n("f7-message",{key:a,attrs:{type:e.type,image:e.image,name:e.name,avatar:e.avatar,first:t.isFirstMessage(e,a),last:t.isLastMessage(e,a),tail:t.isTailMessage(e,a)}},[e.text?n("span",{attrs:{slot:"text"},domProps:{innerHTML:t._s(e.text)},slot:"text"}):t._e()])}),t.typingMessage?n("f7-message",{attrs:{type:"received",typing:!0,first:!0,last:!0,tail:!0,header:t.typingMessage.name+" is typing",avatar:t.typingMessage.avatar}}):t._e()],2),n("f7-messagebar",{ref:"messagebar",attrs:{placeholder:t.placeholder,"attachments-visible":t.attachmentsVisible,"sheet-visible":t.sheetVisible}},[n("f7-link",{attrs:{slot:"inner-start","icon-ios":"f7:camera_fill","icon-aurora":"f7:camera_fill","icon-md":"material:camera_alt"},on:{click:function(e){t.sheetVisible=!t.sheetVisible}},slot:"inner-start"}),n("f7-link",{attrs:{slot:"inner-end","icon-ios":"f7:arrow_up_fill","icon-aurora":"f7:arrow_up_fill","icon-md":"material:send"},on:{click:t.sendMessage},slot:"inner-end"}),n("f7-messagebar-attachments",t._l(t.attachments,function(e,a){return n("f7-messagebar-attachment",{key:a,attrs:{image:e},on:{"attachment:delete":function(n){return t.deleteAttachment(e)}}})}),1),n("f7-messagebar-sheet",t._l(t.images,function(e,a){return n("f7-messagebar-sheet-image",{key:a,attrs:{image:e,checked:t.attachments.indexOf(e)>=0},on:{change:t.handleAttachment}})}),1)],1)],1)},oe=[],re=(n("a481"),n("7f7f"),{computed:{nickname:function(){var t=this.$f7route.query;return t.nickname||this.$t("app.chat")},attachmentsVisible:function(){var t=this;return t.attachments.length>0},placeholder:function(){var t=this;return t.attachments.length>0?"Add comment or Send":"Message"}},data:function(){return{attachments:[],sheetVisible:!1,typingMessage:null,messagesData:[{type:"sent",text:"Hi, Kate"},{type:"sent",text:"How are you?"},{name:"Kate",type:"received",text:"Hi, I am good!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Blue Ninja",type:"received",text:"Hi there, I am also fine, thanks! And how are you?",avatar:"https://cdn.framework7.io/placeholder/people-100x100-7.jpg"},{type:"sent",text:"Hey, Blue Ninja! Glad to see you ;)"},{type:"sent",text:"Hey, look, cutest kitten ever!"},{type:"sent",image:"https://cdn.framework7.io/placeholder/cats-200x260-4.jpg"},{name:"Kate",type:"received",text:"Nice!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Kate",type:"received",text:"Like it very much!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Blue Ninja",type:"received",text:"Awesome!",avatar:"https://cdn.framework7.io/placeholder/people-100x100-7.jpg"}],images:["https://cdn.framework7.io/placeholder/cats-300x300-1.jpg","https://cdn.framework7.io/placeholder/cats-200x300-2.jpg","https://cdn.framework7.io/placeholder/cats-400x300-3.jpg","https://cdn.framework7.io/placeholder/cats-300x150-4.jpg","https://cdn.framework7.io/placeholder/cats-150x300-5.jpg","https://cdn.framework7.io/placeholder/cats-300x300-6.jpg","https://cdn.framework7.io/placeholder/cats-300x300-7.jpg","https://cdn.framework7.io/placeholder/cats-200x300-8.jpg","https://cdn.framework7.io/placeholder/cats-400x300-9.jpg","https://cdn.framework7.io/placeholder/cats-300x150-10.jpg"],people:[{name:"Kate Johnson",avatar:"https://cdn.framework7.io/placeholder/people-100x100-9.jpg"},{name:"Blue Ninja",avatar:"https://cdn.framework7.io/placeholder/people-100x100-7.jpg"}],answers:["Yes!","No","Hm...","I am not sure","And what about you?","May be ;)","Lorem ipsum dolor sit amet, consectetur","What?","Are you sure?","Of course","Need to think about it","Amazing!!!"],responseInProgress:!1}},mounted:function(){var t=this;t.$f7ready(function(){t.messagebar=t.$refs.messagebar.f7Messagebar,t.messages=t.$refs.messages.f7Messages})},methods:{isFirstMessage:function(t,e){var n=this,a=n.messagesData[e-1];return!t.isTitle&&(!a||a.type!==t.type||a.name!==t.name)},isLastMessage:function(t,e){var n=this,a=n.messagesData[e+1];return!t.isTitle&&(!a||a.type!==t.type||a.name!==t.name)},isTailMessage:function(t,e){var n=this,a=n.messagesData[e+1];return!t.isTitle&&(!a||a.type!==t.type||a.name!==t.name)},deleteAttachment:function(t){var e=this,n=e.attachments.indexOf(t);e.attachments.splice(n,1)[0]},handleAttachment:function(t){var e=this,n=e.$$(t.target).parents("label.checkbox").index(),a=e.images[n];t.target.checked?e.attachments.unshift(a):e.attachments.splice(e.attachments.indexOf(a),1)},sendMessage:function(){var t,e=this,n=e.messagebar.getValue().replace(/\n/g,"<br>").trim(),a=[];e.attachments.forEach(function(t){a.push({image:t})}),n.trim().length&&a.push({text:n}),0!==a.length&&(e.attachments=[],e.sheetVisible=!1,e.messagebar.clear(),n.length&&e.messagebar.focus(),(t=e.messagesData).push.apply(t,a),e.responseInProgress||(e.responseInProgress=!0,setTimeout(function(){var t=e.answers[Math.floor(Math.random()*e.answers.length)],n=e.people[Math.floor(Math.random()*e.people.length)];e.typingMessage={name:n.name,avatar:n.avatar},setTimeout(function(){e.messagesData.push({text:t,type:"received",name:n.name,avatar:n.avatar}),e.typingMessage=null,e.responseInProgress=!1},4e3)},1e3)))}}}),ie=re,se=(n("510b"),Object(j["a"])(ie,ae,oe,!1,null,null,null)),ce=se.exports,le=ce,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{staticClass:"post-page"},[n("f7-navbar",{attrs:{title:t.$t("post.post"),"back-link":t.$t("app.back"),sliding:""}}),n("card",{attrs:{enableToolbar:!1,data:t.post}}),n("div",{staticClass:"comments"},[n("div",{staticClass:"title"},[n("span",[t._v(t._s(t.$t("home.comment")))])]),n("div",{staticClass:"clist"},[t.comments.length?t._l(t.comments,function(e){return n("div",{key:e.name,staticClass:"comment flex-row"},[n("img",{staticClass:"avatar",attrs:{src:t.getAvatar(e.avatar)}}),n("div",{staticClass:"detail flex-rest-width"},[n("div",{staticClass:"name"},[n("span",[t._v(t._s(e.name))])]),n("div",{staticClass:"time"},[n("span",[t._v(t._s(t.formatTime(e.time)))])]),n("div",{staticClass:"text"},[n("span",[t._v(t._s(e.text))])])])])}):n("div",{staticClass:"empty-content"},[n("i",{staticClass:"iconfont icon-wujieguoyangshi"}),n("div",{staticClass:"text"},[n("span",[t._v(t._s(t.$t("app.empty_container")))])])])],2)]),n("f7-toolbar",{staticClass:"custom-toolbar flex-row",attrs:{"bottom-md":""}},[n("f7-link",{staticClass:"tool tool-border flex-rest-width",on:{click:t.openCommentPopup}},[n("span",{staticClass:"iconfont icon-comment"}),n("span",{staticClass:"text",domProps:{textContent:t._s(t.post.comment_count?t.post.comment_count:t.$t("home.comment"))}})]),n("f7-link",{staticClass:"tool flex-rest-width",class:{liked:t.post.liked},on:{click:function(e){return t.toggleLike(t.post.id,t.post.liked)}}},[n("span",{staticClass:"iconfont icon-like"}),n("span",{staticClass:"text",domProps:{textContent:t._s(t.post.like_count?t.post.like_count:t.$t("home.like"))}})])],1)],1)},ue=[],fe=n("2769"),me=n.n(fe);function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var be={data:function(){return{post:{},comments:[]}},computed:he({},Object(C["c"])({timeline:function(t){return t.timeline}})),mounted:function(){var t=this.$f7route.query;this.post=me()(this.timeline,function(e){return e.id===t.mid}),this.getComments()},methods:he({},Object(C["b"])(["updatePopup"]),{getComments:function(){var t=this,e=Math.floor(2*Math.random());if(!e)return[];h.a.get("/comments.json").then(function(e){t.comments=e.data})},formatTime:function(t){return t?Object(v["a"])(new Date(1e3*t),{addSuffix:!0}):""},getAvatar:function(t){return O(t)},openCommentPopup:function(){this.updatePopup({key:"commentOpened",value:!0})},toggleLike:function(t,e){this.$store.dispatch("updateTimeline",{mid:t,type:e?"unlike":"like"})}}),components:{Card:P}},ge=be,ve=(n("8c14"),Object(j["a"])(ge,pe,ue,!1,null,null,null)),Oe=ve.exports,ye=Oe,ke=[{path:"/",component:st},{path:"/profile/",component:ne},{path:"/language/",component:qt},{path:"/feedback/",component:$t},{path:"/about/",component:dt},{path:"/message/",component:le},{path:"/post/",component:ye}],we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",[n("f7-nav-left",[n("f7-link",{attrs:{text:t.$t("app.close")},on:{click:t.closePopup}})],1),n("f7-nav-title",{attrs:{title:t.$t("publisher.publisher")}}),n("f7-nav-right",[n("f7-link",{attrs:{text:t.$t("app.send")},on:{click:t.sendTweet}})],1)],1),n("editor",{attrs:{placeholder:t.$t("publisher.placeholder")},on:{"text:change":t.editorTextChange}})],1)},je=[];function xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xe(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xe(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Pe={data:function(){return{text:""}},methods:_e({},Object(C["b"])(["updatePopup"]),{editorTextChange:function(t){this.text=t},sendTweet:function(){var t=this;this.$f7.preloader.show(this.$t("app.submitting")),setTimeout(function(e){t.$f7.preloader.hide(),t.closePopup()},1500)},closePopup:function(){this.updatePopup({key:"publisherOpened",value:!1})}}),components:{Editor:jt}},Ce=Pe,$e=Object(j["a"])(Ce,we,je,!1,null,null,null),Te=$e.exports,Ee=Te,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",[n("f7-nav-left",[n("f7-link",{attrs:{text:t.$t("app.close")},on:{click:t.closePopup}})],1),n("f7-nav-title",{attrs:{title:t.$t("home.comment")}}),n("f7-nav-right",[n("f7-link",{attrs:{text:t.$t("app.send")},on:{click:t.sendComment}})],1)],1),n("editor",{attrs:{placeholder:t.$t("comment.placeholder"),enableTools:"emotion,at"},on:{"text:change":t.editorTextChange}})],1)},De=[];function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ie={data:function(){return{text:""}},methods:Ae({},Object(C["b"])(["updatePopup"]),{editorTextChange:function(t){this.text=t},sendComment:function(){var t=this;this.$f7.preloader.show(this.$t("app.submitting")),setTimeout(function(e){t.$f7.preloader.hide(),t.closePopup()},1500)},closePopup:function(){this.updatePopup({key:"commentOpened",value:!1})}}),components:{Editor:jt}},Ne=Ie,Le=Object(j["a"])(Ne,Se,De,!1,null,null,null),He=Le.exports,Ve=He;function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(n,!0).forEach(function(e){Object(l["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ue={data:function(){return{f7params:{id:"com.hiliaox.hiapp",name:"HiApp",theme:"ios",routes:ke}}},mounted:function(){this.$f7ready(function(t){window.$$={alert:t.dialog.alert,confirm:t.dialog.confirm,prompt:t.dialog.prompt,cache:new Nt("vuex")}})},computed:ze({},Object(C["c"])({publisherPopupOpened:function(t){return t.popup.publisherOpened},commentPopupOpened:function(t){return t.popup.commentOpened}})),components:{PublisherPopup:Ee,CommentPopup:Ve}},Fe=Ue,Re=Object(j["a"])(Fe,s,c,!1,null,null,null),Ge=Re.exports,Ke=n("94d5"),qe="INIT_USER_INFO",Je="INIT_CONTACTS",We="INIT_TIMETIME",Ye="APPEND_TIMETIME",Qe="PREPEND_TIMETIME",Xe="UPDATE_TIMETIME",Ze="UPDATE_POPUP";function tn(t){var e=t.commit;h.a.get("/user_login.json").then(function(t){var n=t.data.user;e(qe,{user:n})})}function en(t){var e=t.commit;h.a.get("/contacts.json").then(function(t){var n=t.data;e(Je,{contacts:n})})}function nn(t,e){var n=t.commit;n(We,{timeline:e})}function an(t,e){var n=t.commit;n(Ye,{timeline:e})}function on(t,e){var n=t.commit;n(Qe,{timeline:e})}function rn(t,e){var n=t.commit,a=e.mid,o=e.type;n(Xe,{mid:a,type:o})}function sn(t,e){var n=t.commit,a=e.key,o=e.value;n(Ze,{key:a,value:o})}var cn,ln=n("75fc"),pn=(cn={},Object(l["a"])(cn,qe,function(t,e){var n=e.user;o["a"].set(t,"user",n)}),Object(l["a"])(cn,Je,function(t,e){var n=e.contacts;o["a"].set(t,"contacts",n)}),Object(l["a"])(cn,We,function(t,e){var n=e.timeline;o["a"].set(t,"timeline",n)}),Object(l["a"])(cn,Ye,function(t,e){var n=e.timeline;o["a"].set(t,"timeline",[].concat(Object(ln["a"])(t.timeline),Object(ln["a"])(n)))}),Object(l["a"])(cn,Qe,function(t,e){var n=e.timeline;o["a"].set(t,"timeline",[].concat(Object(ln["a"])(n),Object(ln["a"])(t.timeline)))}),Object(l["a"])(cn,Xe,function(t,e){var n=e.mid,a=e.type,o=me()(t.timeline,function(t){return t.id===n}),r={};switch(a){case"like":r.like_count=o.like_count+1,r.liked=!0;break;case"unlike":r.like_count=o.like_count-1,r.liked=!1;break}o=Object.assign(o,r)}),Object(l["a"])(cn,Ze,function(t,e){var n=e.key,a=e.value;o["a"].set(t.popup,n,a)}),cn);o["a"].use(C["a"]);var un={user:{},contacts:[],timeline:[],popup:{publisherOpened:!1,commentOpened:!1}},fn=new C["a"].Store({state:un,getters:Ke,actions:a,mutations:pn}),mn="https://raw.githubusercontent.com/BelinChung/api-mock/master/HiApp";h.a.defaults.baseURL=mn,h.a.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),h.a.interceptors.response.use(function(t){var e=t.data;return e.err_code?Promise.reject(e):e},function(t){return Promise.reject(t)}),r["a"].use(i["a"]),new o["a"]({el:"#app",store:fn,i18n:Ut,template:"<app/>",components:{app:Ge}}),tn(fn)},"6d03":function(t,e,n){"use strict";var a=n("3754"),o=n.n(a);o.a},"78d7":function(t,e,n){},"80db":function(t,e,n){},"82da":function(t,e,n){},"8c14":function(t,e,n){"use strict";var a=n("e441"),o=n.n(a);o.a},"94d5":function(t,e){},a916:function(t,e,n){"use strict";var a=n("78d7"),o=n.n(a);o.a},c10a:function(t,e,n){"use strict";var a=n("d779"),o=n.n(a);o.a},c6fe:function(t,e,n){"use strict";var a=n("50da"),o=n.n(a);o.a},d6bb:function(t,e,n){"use strict";var a=n("42d6"),o=n.n(a);o.a},d779:function(t,e,n){},d7e2:function(t,e,n){},e441:function(t,e,n){}});
//# sourceMappingURL=app.5ada1e37.js.map